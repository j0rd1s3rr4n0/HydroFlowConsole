Perfecto, aquÃ­ tienes el README reestructurado con secciones primero en inglÃ©s y luego en espaÃ±ol, completamente separadas. Al final te aÃ±ado los badges para stars, forks y licencia.

â¸»

ğŸ’§ HydroFlow Console

<p align="center">
  <img src="background.png" width="100%" alt="HydroFlow Console banner">
</p>



â¸»

ğŸ‡¬ğŸ‡§ English Version

ğŸ§­ Description

HydroFlow Console is an interactive simulator of a fictional hydroelectric power plant designed for educational purposes. It combines basic physics simulation (gates, turbines, pressure, power, weather) with an intentionally insecure deserialization vulnerability via Python pickle.
Itâ€™s ideal for learning applied physics and offensive security in a controlled and realistic environment.

â¸»

âš™ï¸ Installation & Setup
	1.	Install dependencies:

pip install -r requirements.txt


	2.	Run the application:

python app.py


	3.	Access the login page: /login.
	4.	Use any username and password (only l.perez can log in without a password).
	5.	Open /dashboard to access the main panel.

â¸»

ğŸ” Authentication & Session Cookies

Session cookies are serialized using Pythonâ€™s pickle and then base64-encoded. Each cookie stores a dictionary with the userâ€™s name and role (viewer, engineer, admin).

Although the cookie looks like editable text, it contains binary data. To successfully modify it, one must:
	1.	Decode the base64 string.
	2.	Use pickle.loads() to deserialize it.
	3.	Change values (e.g. elevate role to admin).
	4.	Serialize again with pickle.dumps().
	5.	Encode back to base64 and inject it into the browser.

Note: Editing the base64 directly (e.g. with a text editor) breaks the binary format. Manual tampering is not enough â€” it requires proper serialization/deserialization.

â¸»

ğŸ§  Simulation Logic

Every 3 seconds, a loop updates:
	â€¢	Weather conditions (sunny, rain, heavy rain)
	â€¢	Water inflow into the dam
	â€¢	Reservoir level and pressure
	â€¢	Turbine RPM and temperature
	â€¢	Power generation
	â€¢	System failures (collapse, overload, turbine breakdown)

Key constants

Parameter	Value
Max level	250 m
Max pressure	100 bar
Max RPM	5000 rpm
Max power	200 MW
Gates	5


â¸»

ğŸ’£ Failure Conditions
	â€¢	Collapse: if pressure > 100 bar or max level holds too long.
	â€¢	Electrical overload: if power > 200 MW.
	â€¢	Turbine damage: if RPM exceeds 5000.

When failure occurs:
	â€¢	All system values reset to 0.
	â€¢	/dashboard shows a 500 error page.
	â€¢	Flag: flag{electric_power} is revealed.

â¸»

ğŸ“¡ Firmware & Autopilot

The autopilot keeps pressure between 45â€“55 bar by opening/closing gates.
Admins can upload plain-text firmware files via /firmware/update to control system behavior.

Example:

autopilot: off
warnings: on

âš ï¸ The firmware system lacks validation, allowing unauthorized instructions or logic injections.

â¸»

ğŸ›ï¸ Interface
	â€¢	Built with Flask + Bootstrap.
	â€¢	Real-time dashboard with water level, pressure, RPM, temperature, power.
	â€¢	Weather status includes wind, temperature, and humidity.
	â€¢	Prices fluctuate each second based on energy providers (e.g. GreenGrid, EnerCo).
	â€¢	Interface responds to role-based access: viewer, engineer, or admin.

â¸»

ğŸ§¨ Exploit Scripts

Two exploitation scripts are provided in /Exploit/:
	â€¢	exploit.py: uses Selenium to hijack a session and upload firmware.
	â€¢	exploitv2.py: lightweight version using urllib, performs cookie forgery and disables autopilot.

Both lead to a system failure that displays the flag.

â¸»

ğŸ“ Project Structure

.
â”œâ”€â”€ app.py
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ dashboard.html
â”‚   â”œâ”€â”€ error.html
â”œâ”€â”€ static/
â”œâ”€â”€ Exploit/
â”‚   â”œâ”€â”€ exploit.py
â”‚   â”œâ”€â”€ exploitv2.py
â”œâ”€â”€ firmware_uploads/
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md


â¸»

ğŸ¯ Why Use HydroFlow?
	â€¢	Demonstrate insecure deserialization.
	â€¢	Explore ICS/SCADA concepts.
	â€¢	Simulate industrial systems in a safe lab.
	â€¢	Perfect for red teaming, teaching, or internal workshops.

â¸»

ğŸ·ï¸ Topics

scada water-systems ctf training deserialization pickle docker flask simulator firmware hacking iot cybersec vulnerable-app red-team infosec educational python3


â¸»

ğŸ‡ªğŸ‡¸ VersiÃ³n en EspaÃ±ol

ğŸ§­ DescripciÃ³n

HydroFlow Console es un simulador interactivo de una planta hidroelÃ©ctrica ficticia diseÃ±ado con fines educativos.
Reproduce comportamientos fÃ­sicos bÃ¡sicos (compuertas, turbinas, presiÃ³n, potencia, clima) e implementa intencionadamente una vulnerabilidad crÃ­tica de deserializaciÃ³n insegura mediante pickle en Python.
Es ideal para aprender fÃ­sica aplicada y ciberseguridad ofensiva en un entorno seguro y realista.

â¸»

âš™ï¸ InstalaciÃ³n y ejecuciÃ³n
	1.	Instala las dependencias:

pip install -r requirements.txt


	2.	Lanza la aplicaciÃ³n:

python app.py


	3.	Accede a /login con cualquier usuario y contraseÃ±a (solo l.perez entra sin password).
	4.	Abre /dashboard para ver el panel principal.

â¸»

ğŸ” AutenticaciÃ³n y cookies de sesiÃ³n

Las cookies de sesiÃ³n estÃ¡n serializadas con pickle y codificadas en base64. Cada cookie contiene un diccionario con el nombre y rol del usuario (viewer, engineer, admin).

Aunque parezcan modificables a simple vista, contienen datos binarios. Para manipularlas correctamente:
	1.	Decodifica el base64.
	2.	Usa pickle.loads() para obtener el objeto.
	3.	Modifica el campo role.
	4.	Vuelve a serializar con pickle.dumps().
	5.	Codifica de nuevo en base64 y Ãºsala como cookie.

Importante: Editar el base64 directamente corrompe la cookie. Se requiere deserializaciÃ³n completa.

â¸»

ğŸ§  LÃ³gica de simulaciÃ³n

Cada 3 segundos se simulan:
	â€¢	El clima (soleado, lluvia, lluvia fuerte)
	â€¢	Entrada de agua
	â€¢	Nivel del embalse y presiÃ³n
	â€¢	RPM y temperatura de turbinas
	â€¢	Potencia generada
	â€¢	Fallos fÃ­sicos y colapsos

Constantes clave

ParÃ¡metro	Valor
Nivel mÃ¡ximo	250 m
PresiÃ³n mÃ¡xima	100 bar
RPM mÃ¡xima	5000 rpm
Potencia mÃ¡xima	200 MW
NÃºmero de compuertas	5


â¸»

ğŸ’£ Condiciones de fallo
	â€¢	Colapso si presiÃ³n > 100 bar o nivel > 250 m sin abrir compuertas.
	â€¢	Sobrecarga elÃ©ctrica si la potencia excede 200 MW.
	â€¢	Rotura de turbina si supera las 5000 rpm.

En caso de fallo:
	â€¢	Todo se reinicia a 0.
	â€¢	El panel muestra error 500.
	â€¢	Se revela la flag: flag{electric_power}.

â¸»

ğŸ“¡ Firmware y piloto automÃ¡tico

El autopilot regula la presiÃ³n entre 45 y 55 bar.
Los administradores pueden subir firmware en texto plano vÃ­a /firmware/update.

Ejemplo:

autopilot: off
warnings: on

âš ï¸ No hay validaciÃ³n de firmware, lo que permite la ejecuciÃ³n de comandos no autorizados.

â¸»

ğŸ›ï¸ Interfaz
	â€¢	Interfaz con Flask + Bootstrap.
	â€¢	Dashboard en tiempo real con nivel de agua, presiÃ³n, temperatura, potencia, RPM.
	â€¢	El clima incluye humedad, viento y temperatura.
	â€¢	Los precios se actualizan cada segundo segÃºn la mejor oferta energÃ©tica.
	â€¢	Acceso a funciones segÃºn rol.

â¸»

ğŸ§¨ Scripts de explotaciÃ³n

Incluye dos scripts en /Exploit/:
	â€¢	exploit.py: usa Selenium para forjar la cookie y subir firmware.
	â€¢	exploitv2.py: versiÃ³n ligera con urllib.

Ambos scripts fuerzan un fallo que muestra la flag.

â¸»

ğŸ“ Estructura del proyecto

.
â”œâ”€â”€ app.py
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ dashboard.html
â”‚   â”œâ”€â”€ error.html
â”œâ”€â”€ static/
â”œâ”€â”€ Exploit/
â”œâ”€â”€ firmware_uploads/
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md


â¸»

ğŸ¯ Â¿Por quÃ© usar HydroFlow?
	â€¢	Demuestra errores reales como deserializaciÃ³n insegura.
	â€¢	Ãštil para clases, talleres, CTFs, formaciones internas.
	â€¢	SimulaciÃ³n de sistemas industriales crÃ­ticos.
	â€¢	Ideal para aprender a explotar vulnerabilidades en entornos seguros.

â¸»

ğŸ·ï¸ Temas

scada sistemas-de-agua ctf formaciÃ³n deserializaciÃ³n pickle docker flask simulador firmware hacking iot ciberseguridad app-vulnerable red-team infosec educativo python3


â¸»

ğŸ§· Badges (Opcionales)

AÃ±ade esto arriba del README si deseas mostrar estadÃ­sticas visuales:

![GitHub stars](https://img.shields.io/github/stars/tu_usuario/HydroFlow-Console?style=social)
![GitHub forks](https://img.shields.io/github/forks/tu_usuario/HydroFlow-Console?style=social)
![GitHub license](https://img.shields.io/github/license/tu_usuario/HydroFlow-Console)

Solo reemplaza tu_usuario por tu nombre de usuario de GitHub. Si quieres, tambiÃ©n te lo preparo con los links ya personalizados.

Â¿Quieres que te lo convierta todo en un README.md listo para pegar o subir?